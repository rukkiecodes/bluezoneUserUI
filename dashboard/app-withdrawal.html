<!doctype html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, viewport-fit=cover" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#000000">
    <title>Withdraw</title>
    <meta name="description" content="">
    <meta name="keywords" content="" />
    <link rel="icon" type="image/png" href="assets/img/bluezone logo.png" sizes="32x32">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/img/bluezone logo.png">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="manifest" href="__manifest.json">
</head>

<body>
    <!-- loader -->
    <div id="loader">
        <img src="assets/img/bluezone logo.png" alt="icon" class="loading-icon">
    </div>
    <!-- * loader -->


    <div class="main__container-t">
        <div class="side-div-t p-0">
            <!-- profile box -->
            <div class="profileBox pt-2 pb-2" style="     margin-bottom: 5em;
            margin-top: 2.5em;">
                <div class="image-wrapper">
                    <img src="assets/img/DP..png" alt="image" class="imaged  w36 rounded">
                </div>
                <div class="in">
                    <div class="text-muted">Welcome back</div>
                    <strong>Victory Roberts</strong>
                </div>
            </div>
            <!-- * profile box -->
            <!-- balance -->
            <!-- <div class="sidebar-balance"> -->
            <!-- <div class="listview-title">Balance</div> -->
            <!-- <div class="in"> -->
            <!-- <h1 class="amount">$ 2,562.50</h1> -->
            <!-- </div> -->
            <!-- </div> -->
            <!-- * balance -->
            <!-- menu -->

            <ul class="listview flush transparent no-line image-listview" style="border-radius:10px">
                <li>
                    <a href="./index.html" class="item">
                        <div class="icon-box bg-primary">
                            <ion-icon name="pie-chart-outline"></ion-icon>
                        </div>
                        <div class="in">
                            Dashboard

                        </div>
                    </a>
                </li>
                <li>
                    <a href="#" class="item" data-bs-toggle="modal" data-bs-target="#sendActionSheet">
                        <div class="icon-box bg-primary">
                            <ion-icon name="cash-outline"></ion-icon>
                        </div>
                        <div class="in">
                            Deposit Funds

                        </div>
                    </a>
                </li>
                <li>
                    <a href="/dashboard/app-withdrawal.html" class="item">
                        <div class="icon-box bg-primary">
                            <ion-icon name="card-outline"></ion-icon>
                        </div>
                        <div class="in">
                            Withdraw
                        </div>
                    </a>
                </li>
                <li>
                    <a href="/dashboard/crypto-transactions.html" class="item">
                        <div class="icon-box bg-primary">
                            <ion-icon name="pie-chart-outline"></ion-icon>
                        </div>
                        <div class="in">
                            Transactions
                        </div>
                    </a>
                </li>
                <li>
                    <a href="./copytrade.html" class="item">
                        <div class="icon-box bg-primary">
                            <ion-icon name="pie-chart-outline"></ion-icon>
                        </div>
                        <div class="in">
                            Copy trader
                        </div>
                    </a>
                </li>
                <li>
                    <a href="app-settings.html" class="item">
                        <div class="icon-box bg-primary">
                            <ion-icon name="settings-outline"></ion-icon>
                        </div>
                        <div class="in">
                            Settings
                        </div>
                    </a>
                </li>
                <li>
                    <a href="app-login.html" class="item">
                        <div class="icon-box bg-danger">
                            <ion-icon name="log-out-outline"></ion-icon>
                        </div>
                        <div class="in">
                            Log out
                        </div>
                    </a>
                </li>
            </ul>
            <!-- * menu -->




        </div>

        <div class="side-right-div">
            <div>
                <!-- App Header -->
                <div class="appHeader">
                    <div class="left">
                        <a href="#" class="headerButton goBack">
                            <ion-icon name="chevron-back-outline"></ion-icon>
                        </a>
                    </div>
                    <div class="pageTitle">
                        Withdraw
                    </div>
                    <div class="right">



                    </div>
                </div>
                <!-- * App Header -->












                <!-- App Capsule -->
                <div id="appCapsule">


                    <form action="app-pages.html">

                        <div class="deposit__div section">
                            <ul class="progress-bars">
                                <li class="progress-bars__dot full"></li>
                                <li class="progress-bars__connector"></li>
                                <li class="progress-bars__dot"></li>
                                <li class="progress-bars__connector"></li>
                                <li class="progress-bars__dot"></li>
                            </ul>
                            <div class="step step1 card">
                                <div class=" full  px-2 py-4">
                                    <div class="r mb-05">STEP TO WITHDRAW</div>

                                    <div class=" mt-05">
                                        <ul style="line-height:2 ;">
                                            <li>Type in the amount to withdraw </li>
                                            <li>Choose the currency</li>
                                            <li> Type in your Address & request for withdrawal</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="step step2 hidden">
                                <div class="section full">
                                    <div class="card">

                                        <div class="card-body">
                                            <div class="form-group basic p-0">
                                                <div class="exchange-heading">
                                                    <!-- <label class="group-label" for="toAmount">To</label> -->
                                                    <div class="exchange-wallet-info">
                                                        Balance : <strong> 0.504 BTC</strong>
                                                    </div>
                                                </div>
                                                <div class="exchange-group">
                                                    <div class="input-col">
                                                        <input type="text"
                                                            class="form-control form-control-lg pe-0 border-0"
                                                            id="toAmount" placeholder="0" value="0.014" maxlength="10">
                                                    </div>
                                                    <div class="select-col">
                                                        <select id="currency-select"
                                                            class="form-select form-select-lg currency">
                                                            <option value="USD">USD</option>
                                                            <option value="BTC" selected>BTC</option>
                                                            <option value="ETH">ETH</option>
                                                            <option value="ADA">ADA</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="section mt-2">
                                    <div class="row fontsize-caption">
                                        <div class="col">
                                            39.019,09 USD
                                        </div>
                                        <div class="col text-end">
                                            Commission rate : <b>2%</b>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="step step3 hidden">
                                <div class="section full">
                                    <div class="card">

                                        <div class="card-body">
                                            <div class="card-body">
                                                <div class="form-group basic p-0">
                                                    <div class="exchange-heading">
                                                        <!-- <label class="group-label" for="toAmount">To</label> -->
                                                        <div class="exchange-wallet-info">
                                                            WALLET ADDRESS
                                                        </div>
                                                    </div>
                                                    <div class="exchange-group">
                                                        <div class="exchange-wallet-info">

                                                        </div>
                                                        <div class="input-col">
                                                            <input type="text"
                                                                class="form-control form-control-lg pe-0 border-0 wallet_address"
                                                                placeholder=" fhr84848wvj22huvi8u4i4v4y247">
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                </div>
                <div class="button-group">
                    <button id="previous-" class="disabled button  btn-lg" disabled>
                        <ion-icon name="chevron-back-sharp"></ion-icon>
                    </button>
                    <button type="button" id="next-" class="btn btn-primary btn-block btn-lg"
                        style=" margin: 0 2.5%;">Next</button>
                    <a id="validate" class="btn btn-primary hidden button" style="    width: 100%; height: 56px;">
                        Withdraw
                    </a>
                </div>
            </div>

            </form>

            <!-- * Deposit notification -->
            <div id="notification-6" class="notification-box">
                <div class="notification-dialog ios-style  bg-success">
                    <div class="notification-content">
                        <div class="in">
                            <h3 class="subtitle">Sucessfully requested.</h3>
                            <div class="text">
                                Your withdrawal is in progress.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- * Deposit notification -->

        </div>
        <!-- * App Capsule -->
        <div class="side-div-l">
            <div class="card card-with-icon" style="top: 10em ;">
                <div class="card-body pt-3 pb-3 text-center">
                    <div class="card-icon bg-success mb-2">
                        <ion-icon name="link"></ion-icon>
                    </div>
                    <h3 class="card-titlde mb-1">Refer a Friend</h3>
                    <p>Invite your friends and earn prizes!</p>
                    <div class="row">
                        <div class="col">
                            <a href="#" class="btn btn-secondary">
                                <ion-icon name="copy-outline"></ion-icon>
                                Invite now
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card card-with-icon" style="top:12.5em ;">
                <div class="card-body pt-3 pb-3 text-center">
                    <div class="card-icon bg-secondary mb-2">
                        <ion-icon name="share-social-outline"></ion-icon>
                    </div>
                    <h3 class="card-titlde mb-1">Follow Us</h3>
                    <p>Follow us on social media!</p>
                    <div class="row">
                        <div class="col">
                            <a href="#" class="btn btn-block btn-facebook">
                                <ion-icon name="logo-facebook"></ion-icon>
                                Facebook
                            </a>
                        </div>
                        <div class="col">
                            <a href="#" class="btn btn-block btn-twitter">
                                <ion-icon name="logo-twitter"></ion-icon>
                                Twitter
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <!-- ========= JS Files =========  -->
        <!-- axios -->
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <!-- Bootstrap -->
        <script src="assets/js/lib/bootstrap.bundle.min.js"></script>
        <!-- Ionicons -->
        <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
        <!-- Splide -->
        <script src="assets/js/plugins/splide/splide.min.js"></script>
        <!-- Apex Charts -->
        <script src="assets/js/plugins/apexcharts/apexcharts.min.js"></script>
        <!-- Base Js File -->
        <script src="assets/js/base.js"></script>
        <script>
            const previousButton = document.getElementById("previous-")
            const nextButton = document.getElementById("next-")
            const submitButton = document.getElementById('validate')
            const form = document.getElementById('stepByStepForm')
            const dots = document.getElementsByClassName('progress-bar__dot')
            const numberOfSteps = 3
            let currentStep = 1
            for (let i = 0; i < dots.length; ++i) {
                dots[i].addEventListener('click', () => {
                    goToStep(i + 1)
                })
            }
            previousButton.onclick = goPrevious
            nextButton.onclick = goNext
            function goNext (e) {
                e.preventDefault()
                currentStep += 1
                goToStep(currentStep)
            }
            function goPrevious (e) {
                e.preventDefault()
                currentStep -= 1
                goToStep(currentStep)
            }
            function goToStep (stepNumber) {
                currentStep = stepNumber
                let inputsToHide = document.getElementsByClassName('step')
                let inputs = document.getElementsByClassName(`step${currentStep}`)
                let indicators = document.getElementsByClassName('progress-bars__dot')
                for (let i = indicators.length - 1; i >= currentStep; --i) {
                    indicators[i].classList.remove('full')
                }
                for (let i = 0; i < currentStep; ++i) {
                    indicators[i].classList.add('full')
                }
                //hide all input
                for (let i = 0; i < inputsToHide.length; ++i) {
                    hide(inputsToHide[i])
                }
                //only show the right one
                for (let i = 0; i < inputs.length; ++i) {
                    show(inputs[i])
                }
                //if we reached final step
                if (currentStep === numberOfSteps) {
                    enable(previousButton)
                    hide(nextButton)
                    show(submitButton)
                }
                //else if first step
                else if (currentStep === 1) {
                    disable(previousButton)
                    show(nextButton)
                    enable(next)
                    hide(submitButton)
                }
                else {
                    enable(previousButton)
                    show(nextButton)
                    enable(next)
                    hide(submitButton)
                }
            }
            function enable (elem) {
                elem.classList.remove("disabled");
                elem.disabled = false;
            }
            function disable (elem) {
                elem.classList.add("disabled");
                elem.disabled = true;
            }
            function show (elem) {
                elem.classList.remove('hidden')
            }
            function hide (elem) {
                elem.classList.add('hidden')
            }
        </script>

        <script>
            const user = localStorage.user
            const token = localStorage.token
            const amount = document.querySelector('#toAmount')
            const currency = document.querySelector('#currency-select')
            const wallet = document.querySelector('.wallet_address')
            const validate = document.querySelector('#validate')

            validate.addEventListener('click', async () => {
                await axios({
                    method: 'post',
                    url: "https://trustpaddi-waitlist.herokuapp.com/withdraw/withdraw",
                    headers: { 'Authorization': `Bearer ${token}` },
                    data: {
                        _id: user,
                        amount: amount.value,
                        currency: currency.value,
                        wallet: wallet.value
                    }
                })
                notification('notification-6', 3000)
            })
        </script>
</body>

</html>